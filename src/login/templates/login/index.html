{% extends 'base.html' %}

{% block content %}

<div class="login-page">

 {% if user.is_authenticated %}
 <h3>Bienvenue {{ user.username }} !</h3>
 <button type="submit"><a href="{% url 'logout' %}">Se deconnecter</a></button>
 {% else %}
   <div class="form">
     <form class="register-form" method="POST" action="{% url 'register' %}">
       {% csrf_token %}
       <h2>Register</h2>
       <input type="text" name="username" id="username_register" autocomplete="off" placeholder="User" required/>
       <input type="email" name="email" id="email" autocomplete="off" placeholder="Email *" required/>
       <input type="password" name="password" id="password_register" placeholder="Password *" required/>
       <input type="password1" name="password1" id="password1" placeholder="Confirm Password *" required/>
       <a class="btn" href="#">
         <span></span>
         <span></span>
         <span></span>
         <span></span>
         <button class="transparent-button" type="submit">Create</button>
       </a>
       <p class="message">Already registered? <a href="#">Sign In</a></p>
     </form>
     <form class="login-form" method="post" action="{% url 'connect' %}">
       {% csrf_token %}
       <h2></i>Login</h2>
       <input type="text" name="username" id="username_login" placeholder="Username" required />
       <input type="password" name="password" id="password_login" placeholder="Password" required/>
        <span></span>
        <span></span>
       {% for message in messages %}
          <div class="message-error">{{ message }}</div>
         {% endfor %}
       <a class="btn" href="#">
         <span></span>
         <span></span>
         <span></span>
        
         <button class="transparent-button" type="submit">Sign in</button>
       </a>
       <p class="message">Not registered? <a href="#">Create an account</a></p>
     </form>
   </div>
 </div>
 <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
 <script>$('.message a').click(function(){
   $('form').animate({height: "toggle", opacity: "toggle"}, "slow");
});
</script>
 {% endif %}
</div>
{% endblock %}